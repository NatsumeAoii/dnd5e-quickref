<!DOCTYPE html>
<html lang="en" data-theme="original" data-mode="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data:; connect-src 'self'; object-src 'none'; base-uri 'self'; form-action 'self'">
  <title>Page Not Found - D&D5e QuickRef</title>

  <meta name="description" content="A quick, searchable reference guide for Dungeons & Dragons 5th Edition (D&D 5e) rulesets.">
  <meta name="author" content="Natsumee">
  <meta name="theme-color" content="#802b1c">
  <meta name="robots" content="noindex">

  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <meta name="apple-mobile-web-app-title" content="5e Quickref" />
  <link rel="manifest" href="manifest.json" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  
  <link rel="preload" href="css/quickref.css" as="style">
  <link rel="stylesheet" href="css/quickref.css">
  
  <link id="theme-stylesheet" rel="stylesheet" type="text/css" href="">
  <link rel="stylesheet" type="text/css" href="css/icons.css">
  <style>
    .error-container { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 80vh; text-align: center; padding: var(--spacing-lg); }
    .error-title { font-family: var(--font-secondary); font-size: 3rem; color: var(--color-movement); margin-bottom: var(--spacing-md); }
    .error-message { font-size: var(--font-size-lg); margin-bottom: var(--spacing-lg); max-width: 600px; }
    .home-link { display: inline-block; padding: var(--spacing-sm) var(--spacing-lg); background-color: var(--color-settings); color: var(--color-header-text); text-decoration: none; border-radius: var(--border-radius-md); font-weight: 600; transition: transform var(--transition-speed-fast), box-shadow var(--transition-speed-fast); }
    .home-link:hover { transform: translateY(-2px); box-shadow: 0 4px 10px var(--color-shadow); }
    .redirect-notice { margin-top: var(--spacing-xl); font-style: italic; color: var(--color-text-subtle); }
    .hidden { display: none; }
  </style>
</head>
<body>
  <main class="page">
    <div class="error-container">
      <h1 class="error-title">404 - Page Not Found</h1>
      <p class="error-message">
        The page you are looking for might have been moved, deleted, or never existed.
      </p>
      <a href="./" class="home-link">Return to QuickRef Home</a>
      <p id="redirect-notice" class="redirect-notice hidden" aria-live="polite">
        You seem to be looking for a specific rule. Attempting to redirect you...
      </p>
      <noscript>
        <p class="redirect-notice">If you were trying to open a specific rule via URL, enable JavaScript and try again.</p>
      </noscript>
    </div>
  </main>

  <script>
    (function () {
      const theme = localStorage.getItem('theme') || 'original';
      const mode = localStorage.getItem('mode') === 'true' ? 'dark' : 'light';
      document.documentElement.dataset.theme = theme;
      document.documentElement.dataset.mode = mode;
      const themeSheet = document.getElementById('theme-stylesheet');
      if (theme !== 'original' && themeSheet) themeSheet.href = 'themes/' + theme + '.css';

      if (window.location.hash) {
        const notice = document.getElementById('redirect-notice');
        if (notice) notice.classList.remove('hidden');
        const safe = /^#[\w\-.,~%!*'();:@&=+$/?]*$/;
        if (safe.test(window.location.hash)) {
          window.location.replace('./' + window.location.hash);
        }
      }
    })();
  </script>
</body>
</html>