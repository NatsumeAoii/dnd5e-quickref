<!DOCTYPE html>
<html lang="en" data-theme="original" data-mode="light">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data:; connect-src 'self'; object-src 'none'; base-uri 'self'; form-action 'self'">
  <title>Page Not Found - D&D5e QuickRef</title>

  <meta name="description"
    content="A quick, searchable reference guide for Dungeons & Dragons 5th Edition (D&D 5e) rulesets.">
  <meta name="author" content="Natsumee">
  <meta name="theme-color" content="#802b1c">
  <meta name="robots" content="noindex">

  <link rel="icon" type="image/png" href="/dnd5e-quickref/img/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/dnd5e-quickref/img/favicon.svg" />
  <link rel="shortcut icon" href="/dnd5e-quickref/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/dnd5e-quickref/img/apple-touch-icon.png" />
  <meta name="apple-mobile-web-app-title" content="5e Quickref" />
  <link rel="manifest" href="/dnd5e-quickref/manifest.json" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet">

  <link rel="preload" href="/dnd5e-quickref/css/quickref.css" as="style">
  <link rel="stylesheet" href="/dnd5e-quickref/css/quickref.css">

  <link id="theme-stylesheet" rel="stylesheet" type="text/css" href="">
  <link rel="stylesheet" type="text/css" href="/dnd5e-quickref/css/icons.css">
  <style>
    body {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      background-color: var(--color-bg);
    }

    .error-card {
      background-color: var(--color-card-bg);
      border: var(--border-width) solid var(--color-border);
      border-radius: var(--border-radius-lg);
      box-shadow: 0 8px 24px var(--color-shadow-strong);
      padding: var(--spacing-xl);
      text-align: center;
      max-width: 500px;
      width: 100%;
      animation: pop-in 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .error-icon {
      font-size: 4rem;
      margin-bottom: var(--spacing-md);
      animation: float 3s ease-in-out infinite;
    }

    .error-title {
      font-family: var(--font-secondary);
      font-size: 2.5rem;
      color: var(--color-movement);
      margin-bottom: var(--spacing-xs);
      font-variant: small-caps;
      line-height: 1.2;
    }

    .error-subtitle {
      font-size: var(--font-size-lg);
      color: var(--color-text-subtle);
      margin-bottom: var(--spacing-lg);
      font-weight: bold;
    }

    .error-message {
      margin-bottom: var(--spacing-xl);
      line-height: 1.6;
    }

    .home-link {
      display: inline-block;
      padding: var(--spacing-sm) var(--spacing-xl);
      background-color: var(--color-movement);
      color: #fff;
      text-decoration: none;
      border-radius: var(--border-radius-md);
      font-weight: 600;
      transition: transform 0.2s, box-shadow 0.2s, background-color 0.2s;
    }

    .home-link:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px var(--color-shadow);
      background-color: #a03522;
      text-decoration: none;
    }

    .redirect-notice {
      margin-top: var(--spacing-lg);
      padding: var(--spacing-md);
      background-color: var(--color-item-hover-bg);
      border-radius: var(--border-radius-md);
      font-size: var(--font-size-sm);
      color: var(--color-text);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-sm);
    }

    .hidden {
      display: none;
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-10px);
      }
    }

    @keyframes pop-in {
      from {
        opacity: 0;
        transform: scale(0.9);
      }

      to {
        opacity: 1;
        transform: scale(1);
      }
    }
  </style>
</head>

<body>
  <main class="page">
    <div class="error-card">
      <div class="error-icon">üé≤</div>
      <h1 class="error-title">CRITICAL MISS</h1>
      <p class="error-subtitle">404 - Page Not Found</p>
      <p class="error-message">
        The page you are looking for seems to have vanished into the Ethereal Plane.
      </p>
      <a href="/dnd5e-quickref/" class="home-link">Return to Safety</a>

      <p id="redirect-notice" class="redirect-notice hidden" aria-live="polite">
        <span>üîç</span> Detecting a specific rule... Attempting to redirect...
      </p>
      <noscript>
        <p class="redirect-notice">Enable JavaScript to allow automatic redirection for rule links.</p>
      </noscript>
    </div>
  </main>

  <script>
    (function () {
      const theme = localStorage.getItem('theme') || 'original';
      const mode = localStorage.getItem('mode') === 'true' ? 'dark' : 'light';
      document.documentElement.dataset.theme = theme;
      document.documentElement.dataset.mode = mode;
      const themeSheet = document.getElementById('theme-stylesheet');
      if (theme !== 'original' && themeSheet) {
        themeSheet.href = '/dnd5e-quickref/themes/' + theme + '.css';
      }

      if (window.location.hash) {
        const notice = document.getElementById('redirect-notice');
        if (notice) notice.classList.remove('hidden');
        const safe = /^#[\w\-.,~%!*'();:@&=+$/?]*$/;
        if (safe.test(window.location.hash)) {
          setTimeout(() => {
            window.location.replace('/dnd5e-quickref/' + window.location.hash);
          }, 500);
        }
      }
    })();
  </script>
</body>

</html>